<div class="hearing-calendar-card">
  <!-- HEADER -->
  <div class="card-header">
    <div class="header-left">
      <mat-icon class="header-icon">calendar_month</mat-icon>
      <h3 class="header-title">Upcoming Hearings</h3>
    </div>

    <div class="header-right">
      <mat-icon class="filter-icon">filter_list</mat-icon>
      <select
        class="court-select"
        [(ngModel)]="selectedCourt"
        (change)="onCourtChange()"
      >
        <option value="">All Courts</option>
        <option *ngFor="let c of courts" [value]="c.id">{{ c.courtName }}</option>
      </select>
    </div>
  </div>

  <!-- MONTH NAVIGATION -->
  <div class="month-navigation">
    <button class="nav-btn" (click)="prevMonth()">
      <mat-icon>chevron_left</mat-icon>
      <span class="nav-label">{{ prevMonthLabel }}</span>
    </button>

    <div class="current-month">
      <mat-icon>event</mat-icon>
      <span>{{ monthLabel }}</span>
    </div>

    <button class="nav-btn" (click)="nextMonth()">
      <span class="nav-label">{{ nextMonthLabel }}</span>
      <mat-icon>chevron_right</mat-icon>
    </button>
  </div>

  <!-- CALENDAR -->
  <div class="calendar-container">
    <table class="calendar-table">
      <thead>
        <tr>
          <th *ngFor="let d of weekDays">{{ d }}</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let week of weeks">
          <td *ngFor="let day of week">
            <div
              *ngIf="day !== 0"
              class="day-cell"
              [class.has-hearing]="getHearing(day)"
              [class.today]="isToday(day)"
              [matTooltip]="getHearing(day)?.tooltip || ''"
              matTooltipClass="custom-tooltip"
            >
              <span class="day-number">{{ day }}</span>
              <span class="hearing-indicator" *ngIf="getHearing(day)">
                <mat-icon>circle</mat-icon>
              </span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- LEGEND -->
  <div class="calendar-legend">
    <div class="legend-item">
      <span class="legend-dot today-dot"></span>
      <span>Today</span>
    </div>
    <div class="legend-item">
      <span class="legend-dot hearing-dot"></span>
      <span>Hearing Scheduled</span>
    </div>
  </div>

  <!-- FOOTER -->
  <div class="card-footer">
    <a href="#" class="view-all-link">
      <span>View Complete Calendar</span>
      <mat-icon>arrow_forward</mat-icon>
    </a>
  </div>
</div>
